<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>canvas-select示例</title>
  <style>
    .container {
      background-color: #ccc;
    }

  </style>
</head>

<body>
  <canvas width="800" height="500" class="container"></canvas>
  <div>
    <button onclick="change(1)">创建矩形</button>
    <button onclick="change(2)">创建多边形</button>
    <button onclick="change(3)">创建点</button>
    <button onclick="change(4)">创建折线</button>
    <button onclick="change(0)">取消创建</button>
    <button onclick="zoom(true)">放大</button>
    <button onclick="zoom(false)">缩小</button>
    <button onclick="fitting()">适配</button>
  </div>
  <div>输出结果</div>
  <pre></pre>
</body>
<script src="./lib/canvas-select.min.js"></script>
<script>
  const output = document.querySelector('pre');
  // const canvasSelect = new CanvasSelect('.container', 'https://k.sinaimg.cn/n/tech/5_img/upload/491a5e34/768/w941h627/20220412/ed6c-87dce461cc99bc0ebdd967eedad17aed.jpg/w640slw.jpg');
  const canvasSelect = new CanvasSelect('.container', '/one.jpg');
  canvasSelect.strokeStyle = 'rgb(52,244,39)';
  window.c = canvasSelect;
  const option = []
  // canvasSelect.on('load', () => {
  //   canvasSelect.setData(option);
  // });
  canvasSelect.setData(option);
  // 选中
  canvasSelect.on('load', (info) => {
    console.log('加载图片');
  });
  // 选中
  canvasSelect.on('select', (info) => {
    window.info = info;
    canvasSelect.update
  });
  canvasSelect.on('updated', (info) => {
    window.tiger = info;
    output.innerHTML = JSON.stringify(canvasSelect.dataset, null, 2);
  });

  function change(num) {
    canvasSelect.createType = num;
    console.log(canvasSelect.createType);
  }
  function zoom(type) {
    canvasSelect.setScale(type);
  }
  function fitting() {
    canvasSelect.fitZoom();
  }
</script>

</html>
