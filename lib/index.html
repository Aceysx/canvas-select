<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>例子</title>
    <style>
      .container {
        background-color: #ccc;
      }
    </style>
  </head>
  <body>
    <canvas width="500" height="500" class="container"></canvas>
    <div>
      <button onclick="change(1)">矩形</button>
      <button onclick="change(2)">多边形</button>
      <button onclick="change(0)">取消</button>
    </div>
  </body>
  <script src="./canvas-select.min.js"></script>
  <script>
    const canvasSelect = new CanvasSelect(".container");
    window.canvasSelect = canvasSelect;

    // 选中
    canvasSelect.on("select", (info) => {
      console.log("select", info);
      window.info = info;
    });
    // 添加
    canvasSelect.on("add", (info) => {
      console.log("add", info);
    });
    // data更新
    canvasSelect.on("update", function () {
      console.log("update");
    });
    // resize
    canvasSelect.on("resize", function (info) {
      console.log("resize", info);
    });
    // error
    canvasSelect.on("error", function (msg) {
      console.log("error", msg);
    });

    canvasSelect.setData([
      {
        label: "你好",
        type: 1,
        coor: [
          [10, 10],
          [100, 100],
        ],
      },
      {
        label: "世界",
        type: 2,
        coor: [
          [30, 150],
          [120, 100],
          [50, 200],
        ],
      },
      {
        type: 2,
        coor: [
          [230, 150],
          [320, 100],
          [250, 200],
        ],
      },
    ]);
    function change(num) {
      canvasSelect.createType = num;
      console.log(canvasSelect.createType);
    }
    
  </script>
</html>
