!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).CanvasSelect=e()}(this,(function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};function e(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function a(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}function i(t,e,i,a){return new(i||(i=Promise))((function(r,n){function o(t){try{c(a.next(t))}catch(t){n(t)}}function s(t){try{c(a.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,s)}c((a=a.apply(t,e||[])).next())}))}function a(t,e){var i,a,r,n,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,a&&(r=2&n[0]?a.return:n[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,n[1])).done)return r;switch(a=0,r&&(n=[2&n[0],r.value]),n[0]){case 0:case 1:r=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,a=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==n[0]&&2!==n[0])){o=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){o.label=n[1];break}if(6===n[0]&&o.label<r[1]){o.label=r[1],r=n;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(n);break}r[2]&&o.ops.pop(),o.trys.pop();continue}n=e.call(t,o)}catch(t){n=[6,t],a=0}finally{i=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}}function r(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var a,r,n=i.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(a=n.next()).done;)o.push(a.value)}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}return o}function n(t,e){for(var i=0,a=e.length,r=t.length;i<a;i++,r++)t[r]=e[i];return t}var o=function(t,e,i,a,r){this.label="",this.coor=[],this.strokeStyle="",this.fillStyle="",this.active=!1,this.creating=!1,this.dragging=!1,this.uuid=function(){for(var t=[],e="0123456789abcdef",i=0;i<36;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}(),this.index=t,this.label=e,this.strokeStyle=i,this.fillStyle=a,r&&(this.uuid=r)},s=function(t){function i(e,i,a,r,n,o){var s=t.call(this,i,a,r,n,o)||this;return s.type=1,s.coor=e,s}return e(i,t),Object.defineProperty(i.prototype,"ctrlsData",{get:function(){var t=r(this.coor,2),e=r(t[0],2),i=e[0],a=e[1],n=r(t[1],2),o=n[0],s=n[1];return[[i,a],[i+(o-i)/2,a],[o,a],[o,a+(s-a)/2],[o,s],[i+(o-i)/2,s],[i,s],[i,a+(s-a)/2]]},enumerable:!1,configurable:!0}),i}(o),c=function(t){function i(e,i,a,r,n,o){var s=t.call(this,i,a,r,n,o)||this;return s.type=2,s.coor=e,s}return e(i,t),Object.defineProperty(i.prototype,"ctrlsData",{get:function(){return this.coor.length>2?this.coor:[]},enumerable:!1,configurable:!0}),i}(o),h=function(t){function i(e,i,a,r,n,o){var s=t.call(this,i,a,r,n,o)||this;return s.type=3,s.coor=e,s}return e(i,t),i}(o),l=function(){function t(){this._eventTree={}}return t.prototype.on=function(t,e){var i=this._eventTree[t];Array.isArray(i)?i.push(e):this._eventTree[t]=[e]},t.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var a=this._eventTree[t];Array.isArray(a)&&a.forEach((function(t){return t.apply(void 0,n([],r(e)))}))},t.prototype.off=function(t,e){var i=this._eventTree[t],a=i.find((function(t){return t===e}));Array.isArray(i)&&a&&i.splice(a,1)},t}();return function(t){function n(e,i){var a=t.call(this)||this;a.lock=!1,a.MIN_WIDTH=10,a.MIN_HEIGHT=10,a.strokeStyle="rgb(0, 0, 255)",a.fillStyle="rgba(0, 0, 255,0.1)",a.activeStrokeStyle="#f00",a.activeFillStyle="rgba(255, 0, 0,0.1)",a.ctrlStrokeStyle="#000",a.ctrlFillStyle="#fff",a.ctrlRadius=3,a.labelFillStyle="#fff",a.labelFont="12px serif #000",a.labelMaxLen=5,a.dataset=[],a.remmberOrigin=[0,0],a.createType=0,a.ctrlIndex=-1,a.cursor="auto",a.image=new Image,a.originX=0,a.originY=0,a.scaleStep=0;var r="string"==typeof e?document.querySelector(e):e;return Object.prototype.toString.call(r).includes("HTMLCanvasElement")?(a.canvas=r,a.ctx=a.canvas.getContext("2d"),a.WIDTH=a.canvas.clientWidth,a.HEIGHT=a.canvas.clientHeight,a.offlineCanvas=document.createElement("canvas"),a.offlineCanvas.width=a.WIDTH,a.offlineCanvas.height=a.HEIGHT,a.offlineCtx=a.offlineCanvas.getContext("2d"),a.initScreen(),i&&(a.image.src=i)):console.warn("HTMLCanvasElement is required!"),a}return e(n,t),Object.defineProperty(n.prototype,"activeShape",{get:function(){return this.dataset.find((function(t){return t.active}))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"scale",{get:function(){return this.IMAGE_ORIGIN_WIDTH&&this.IMAGE_WIDTH?this.IMAGE_WIDTH/this.IMAGE_ORIGIN_WIDTH:1},enumerable:!1,configurable:!0}),n.prototype.initScreen=function(){var t=this;this.canvas.style.userSelect="none",this.canStart=new Promise((function(e){t.imageLoaded?e(!0):t.image.addEventListener("load",(function(){t.emit("load"),t.IMAGE_ORIGIN_WIDTH=t.IMAGE_WIDTH=t.image.width,t.IMAGE_ORIGIN_HEIGHT=t.IMAGE_HEIGHT=t.image.height,t.fitZoom(),e(!0)}))})),this.canvas.addEventListener("contextmenu",(function(e){t.lock||e.preventDefault()})),this.canvas.addEventListener("mousewheel",(function(e){if(!t.lock){e.preventDefault(),t.setScale(e.deltaY<0);var i=e.offsetX/t.scale,a=e.offsetY/t.scale;t.movePoint=[i,a],t.update()}})),this.canvas.addEventListener("mousedown",(function(e){var i,a=e.offsetX/t.scale,n=e.offsetY/t.scale,o=[e.offsetX,e.offsetY];if(!t.lock)if(2===e.buttons)t.remmberOrigin=[e.offsetX-t.originX,e.offsetY-t.originY];else if(1===e.buttons){var l=t.activeShape,f=(null==l?void 0:l.ctrlsData)||[];if(t.ctrlIndex=f.findIndex((function(e){return t.isPointInCircle(o,e,t.ctrlRadius)})),t.ctrlIndex>-1){var u=r(f[t.ctrlIndex],2),p=u[0],v=u[1];return void(t.remmber=[[a-p,n-v]])}var d=r(t.hoverOnShape(o),2),I=d[0],y=d[1],g=2===(null===(i=t.activeShape)||void 0===i?void 0:i.type)&&t.activeShape.creating;if(!g&&I>-1){if(t.emit("select",y),t.dataset.forEach((function(t,e){t.active=e===I})),y.dragging=!0,t.dataset.splice(I,1),t.dataset.push(y),t.remmber=[],3===y.type){var S=r(y.coor,2),H=S[0],b=S[1];t.remmber=[[a-H,n-b]]}else y.coor.forEach((function(e){t.remmber.push([a-e[0],n-e[1]])}));t.update()}else if(g){if(t.isInContent(e)){var m=t.activeShape,x=r(m.coor[m.coor.length-1],2);H=x[0],b=x[1];H!==a&&b!==n&&(m.coor.push([a-t.originX/t.scale,n-t.originY/t.scale]),t.update())}}else if(t.createType&&t.isInContent(e)){var T=void 0,E=[a-t.originX/t.scale,n-t.originY/t.scale];1===t.createType?(T=new s([E,E],t.dataset.length)).creating=!0:2===t.createType?(T=new c([E],t.dataset.length)).creating=!0:3===t.createType&&(T=new h(E,t.dataset.length),t.emit("add",T)),t.dataset.forEach((function(t){t.active=!1})),T.active=!0,t.dataset.push(T),t.emit("updated",T),t.update()}else t.activeShape&&(t.activeShape.active=!1,t.update())}})),this.canvas.addEventListener("mousemove",(function(e){var i,a,n=e.offsetX/t.scale,o=e.offsetY/t.scale;if(!t.lock)if(t.movePoint=[n,o],2===e.buttons&&3===e.which)t.originX=e.offsetX-t.remmberOrigin[0],t.originY=e.offsetY-t.remmberOrigin[1],t.update();else if(1===e.buttons){if(t.activeShape){if(t.ctrlIndex>-1&&t.isInContent(e)){var s=r(t.remmber,1),c=r(s[0],2),h=c[0],l=c[1];if(1===t.activeShape.type){var f=r(t.activeShape.coor,2),u=r(f[0],2),p=u[0],v=u[1],d=r(f[1],2),I=d[0],y=d[1],g=[];switch(t.ctrlIndex){case 0:g=[[n-h,o-l],[I,y]];break;case 1:g=[[p,o-l],[I,y]];break;case 2:g=[[p,o-l],[n-h,y]];break;case 3:g=[[p,v],[n-h,y]];break;case 4:g=[[p,v],[n-h,o-l]];break;case 5:g=[[p,v],[I,o-l]];break;case 6:g=[[n-h,v],[I,o-l]];break;case 7:g=[[n-h,v],[I,y]]}var S=r(g,2),H=r(S[0],2),b=H[0],m=H[1],x=r(S[1],2),T=x[0],E=x[1];T-b>=t.MIN_WIDTH&&E-m>=t.MIN_HEIGHT?t.activeShape.coor=g:t.emit("error","宽不能小于".concat(t.MIN_WIDTH,",高不能小于").concat(t.MIN_HEIGHT,"。"))}else 2===t.activeShape.type&&t.activeShape.coor.splice(t.ctrlIndex,1,[n-t.originX/t.scale,o-t.originY/t.scale]);t.update()}else if(t.activeShape.dragging){g=[];var G=t.IMAGE_ORIGIN_WIDTH||t.WIDTH,M=t.IMAGE_ORIGIN_HEIGHT||t.HEIGHT;if(3===t.activeShape.type){var _=r(t.remmber[0],2),k=_[0];l=o-_[1];if((h=n-k)<0||h>G||l<0||l>M)return;g=[h,l]}else for(var w=0;w<t.activeShape.coor.length;w++){var D=t.remmber[w];h=n-D[0],l=o-D[1];if(h<0||h>G||l<0||l>M)return;g.push([h,l])}t.activeShape.coor=g,t.update()}else if(t.activeShape.creating&&1===t.activeShape.type&&t.isInContent(e)){h=n-t.originX/t.scale,l=o-t.originY/t.scale;t.activeShape.coor.splice(1,1,[h,l])}t.emit("updated",t.activeShape)}t.update()}else 2===(null===(i=t.activeShape)||void 0===i?void 0:i.type)&&(null===(a=t.activeShape)||void 0===a?void 0:a.creating)&&t.update()})),this.canvas.addEventListener("mouseup",(function(e){if(!t.lock&&(t.remmber=[],t.activeShape&&(t.activeShape.dragging=!1,t.activeShape.creating&&1===t.activeShape.type))){var i=r(t.activeShape.coor,2),a=r(i[0],2),n=a[0],o=a[1],s=r(i[1],2),c=s[0],h=s[1];Math.abs(n-c)<t.MIN_WIDTH||Math.abs(o-h)<t.MIN_HEIGHT?(t.dataset.pop(),t.emit("error","宽不能小于".concat(t.MIN_WIDTH,",高不能小于").concat(t.MIN_HEIGHT))):(t.activeShape.coor=[[Math.min(n,c),Math.min(o,h)],[Math.max(n,c),Math.max(o,h)]],t.activeShape.creating=!1,t.emit("add",t.activeShape)),t.update()}})),this.canvas.addEventListener("dblclick",(function(){var e;t.lock||2===(null===(e=t.activeShape)||void 0===e?void 0:e.type)&&t.activeShape.coor.length>2&&(t.emit("add",t.activeShape),t.activeShape.creating=!1,t.update())})),document.body.addEventListener("keyup",(function(e){t.lock||t.activeShape&&(2===t.activeShape.type?("Escape"===e.key?t.deleteByIndex(t.activeShape.index):"Backspace"===e.key&&(t.activeShape.coor.length>1&&t.activeShape.creating?t.activeShape.coor.pop():t.deleteByIndex(t.activeShape.index)),t.update()):t.activeShape&&"Backspace"===e.key&&t.deleteByIndex(t.activeShape.index))}))},n.prototype.setData=function(t){return i(this,void 0,void 0,(function(){var e,i=this;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.canStart];case 1:return a.sent(),t.forEach((function(t,e){if(Object.prototype.toString.call(t).indexOf("Object")>-1){var a=t.label,r=t.type,n=t.coor,o=t.strokeStyle,l=t.fillStyle,f=t.uuid,u=void 0;switch(r){case 1:u=new s(n,e,a,o,l,f);break;case 2:u=new c(n,e,a,o,l,f);break;case 3:u=new h(n,e,a,o,l,f)}i.dataset.push(u)}else i.emit("error","".concat(t," in data must be an enumerable Object."))})),this.update(),[3,3];case 2:return e=a.sent(),this.emit("error",e),[3,3];case 3:return[2]}}))}))},n.prototype.hoverOnShape=function(t){var e=this,i=-1,a=this.dataset.reduceRight((function(a,r,n){return a||(3===r.type&&e.isPointInCircle(t,r.coor,3)||1===r.type&&e.isPointInRect(t,r.coor)||2===r.type&&e.isPointInPolygon(t,r.coor))&&(i=n,a=r),a}),null);return[i,a]},n.prototype.isInContent=function(t){var e=t.offsetX/this.scale,i=t.offsetY/this.scale;return e>=this.originX/this.scale&&i>=this.originY/this.scale&&e<=this.originX/this.scale+this.IMAGE_ORIGIN_WIDTH&&i<=this.originY/this.scale+this.IMAGE_ORIGIN_HEIGHT},n.prototype.isPointInRect=function(t,e){var i=this,a=r(t,2),n=a[0],o=a[1],s=r(e.map((function(t){return t.map((function(t){return t*i.scale}))})),2),c=r(s[0],2),h=c[0],l=c[1],f=r(s[1],2),u=f[0],p=f[1];return h+this.originX<=n&&n<=u+this.originX&&l+this.originY<=o&&o<=p+this.originY},n.prototype.isPointInPolygon=function(t,e){var i=this;this.offlineCtx.save(),this.offlineCtx.clearRect(0,0,this.WIDTH,this.HEIGHT),this.offlineCtx.translate(this.originX,this.originY),this.offlineCtx.beginPath(),e.forEach((function(t,e){var a=r(t.map((function(t){return Math.round(t*i.scale)})),2),n=a[0],o=a[1];0===e?i.offlineCtx.moveTo(n,o):i.offlineCtx.lineTo(n,o)})),this.offlineCtx.closePath(),this.offlineCtx.fill();var a=this.offlineCtx.getImageData(0,0,this.WIDTH,this.HEIGHT),n=(t[1]-1)*this.WIDTH*4+4*t[0];return this.offlineCtx.restore(),0!==a.data[n+3]},n.prototype.isPointInCircle=function(t,e,i){var a=this,n=r(t,2),o=n[0],s=n[1],c=r(e.map((function(t){return t*a.scale})),2),h=c[0],l=c[1];return Math.sqrt(Math.pow(h+this.originX-o,2)+Math.pow(l+this.originY-s,2))<=i},n.prototype.drawRect=function(t){var e=this;if(2===t.coor.length){var i=r(t.coor.map((function(t){return t.map((function(t){return Math.round(t*e.scale)}))})),2),a=r(i[0],2),n=a[0],o=a[1],s=r(i[1],2),c=s[0],h=s[1];this.ctx.save(),this.ctx.fillStyle=t.fillStyle||this.fillStyle,this.ctx.strokeStyle=t.active||t.creating?this.activeStrokeStyle:t.strokeStyle||this.strokeStyle;var l=c-n,f=h-o;this.ctx.strokeRect(n,o,l,f),t.creating||this.ctx.fillRect(n,o,l,f),this.ctx.restore(),this.drawLabel(t.coor[0],t.label)}},n.prototype.drawPolygon=function(t){var e=this;if(this.ctx.save(),this.ctx.fillStyle=t.fillStyle||this.fillStyle,this.ctx.strokeStyle=t.active||t.creating?this.activeStrokeStyle:t.strokeStyle||this.strokeStyle,this.ctx.beginPath(),t.coor.forEach((function(t,i){var a=r(t.map((function(t){return Math.round(t*e.scale)})),2),n=a[0],o=a[1];0===i?e.ctx.moveTo(n,o):e.ctx.lineTo(n,o)})),t.creating){var i=r(this.movePoint.map((function(t){return Math.round(t*e.scale)})),2),a=i[0],n=i[1];this.ctx.lineTo(a-this.originX,n-this.originY)}else t.coor.length>2&&this.ctx.closePath();this.ctx.fill(),this.ctx.stroke(),this.ctx.restore(),this.drawLabel(t.coor[0],t.label)},n.prototype.drawDot=function(t){var e=this,i=r(t.coor.map((function(t){return t*e.scale})),2),a=i[0],n=i[1];this.ctx.save(),this.ctx.fillStyle=t.fillStyle||this.ctrlFillStyle,this.ctx.strokeStyle=t.active?this.activeStrokeStyle:t.strokeStyle||this.strokeStyle,this.ctx.beginPath(),this.ctx.arc(a,n,this.ctrlRadius,0,2*Math.PI,!0),this.ctx.fill(),this.ctx.arc(a,n,this.ctrlRadius,0,2*Math.PI,!0),this.ctx.stroke(),this.ctx.restore(),this.drawLabel(t.coor,t.label)},n.prototype.drawCtrl=function(t){var e=this,i=r(t.map((function(t){return t*e.scale})),2),a=i[0],n=i[1];this.ctx.save(),this.ctx.beginPath(),this.ctx.fillStyle=this.ctrlFillStyle,this.ctx.strokeStyle=this.ctrlStrokeStyle,this.ctx.arc(a,n,this.ctrlRadius,0,2*Math.PI,!0),this.ctx.fill(),this.ctx.arc(a,n,this.ctrlRadius,0,2*Math.PI,!0),this.ctx.stroke(),this.ctx.restore()},n.prototype.drawCtrlList=function(t){var e=this;t.ctrlsData.forEach((function(t){e.drawCtrl(t)}))},n.prototype.drawLabel=function(t,e){var i=this;if(void 0===e&&(e=""),e.length){var a=e.length<this.labelMaxLen+1?e:"".concat(e.substr(0,this.labelMaxLen),"..."),n=this.ctx.measureText(a),o=r(t.map((function(t){return t*i.scale})),2),s=o[0],c=o[1],h=this.IMAGE_ORIGIN_WIDTH-t[0]<(n.width+4)/this.scale,l=this.IMAGE_ORIGIN_HEIGHT-t[1]<16/this.scale;this.ctx.save(),this.ctx.fillStyle=this.labelFillStyle,this.ctx.fillRect(h?s-n.width-3:s+1,l?c-15:c+1,n.width+4,16),this.ctx.font=this.labelFont,this.ctx.strokeText(a,h?s-n.width-2:s+2,l?c-4:c+12,80),this.ctx.restore()}},n.prototype.paintImage=function(){this.ctx.drawImage(this.image,0,0,this.IMAGE_WIDTH,this.IMAGE_HEIGHT)},n.prototype.clear=function(){this.ctx.clearRect(0,0,this.WIDTH,this.HEIGHT)},n.prototype.update=function(){var t=this;this.ctx.save(),this.clear(),this.ctx.translate(this.originX,this.originY),this.paintImage(),this.dataset.forEach((function(e){switch(e.type){case 1:t.drawRect(e);break;case 2:t.drawPolygon(e);break;case 3:t.drawDot(e)}})),this.activeShape&&[1,2].includes(this.activeShape.type)&&this.drawCtrlList(this.activeShape),this.ctx.restore()},n.prototype.deleteByIndex=function(t){var e=this.dataset.findIndex((function(e){return e.index===t}));e>-1&&(this.emit("delete",this.dataset[e]),this.dataset.splice(e,1),this.dataset.forEach((function(t,e){t.index=e})),this.update())},n.prototype.calcStep=function(t){t&&(this.scaleStep=100,this.setScale(!1)),(this.IMAGE_WIDTH>this.WIDTH||this.IMAGE_HEIGHT>this.HEIGHT)&&(this.setScale(!1),this.calcStep())},n.prototype.setScale=function(t){if(!this.lock&&!(!t&&this.IMAGE_WIDTH<=20||t&&this.IMAGE_WIDTH>=100*this.WIDTH)){t?this.scaleStep++:this.scaleStep--;var e=Math.abs(this.scaleStep),i=this.IMAGE_WIDTH;this.IMAGE_WIDTH=Math.round(this.IMAGE_ORIGIN_WIDTH*Math.pow(this.scaleStep>=0?1.05:.95,e)),this.IMAGE_HEIGHT=Math.round(this.IMAGE_ORIGIN_HEIGHT*Math.pow(this.scaleStep>=0?1.05:.95,e)),this.stayPosition(this.IMAGE_WIDTH/i),this.update()}},n.prototype.fitZoom=function(){this.calcStep(!0),this.IMAGE_HEIGHT/this.IMAGE_WIDTH>=this.HEIGHT/this.WIDTH?(this.IMAGE_WIDTH=this.IMAGE_ORIGIN_WIDTH/(this.IMAGE_ORIGIN_HEIGHT/this.HEIGHT),this.IMAGE_HEIGHT=this.HEIGHT):(this.IMAGE_WIDTH=this.WIDTH,this.IMAGE_HEIGHT=this.IMAGE_ORIGIN_HEIGHT/(this.IMAGE_ORIGIN_WIDTH/this.WIDTH)),this.originX=(this.WIDTH-this.IMAGE_WIDTH)/2,this.originY=(this.HEIGHT-this.IMAGE_HEIGHT)/2,this.update()},n.prototype.stayPosition=function(t){this.originX=this.WIDTH/2-(this.WIDTH/2-this.originX)*t,this.originY=this.HEIGHT/2-(this.HEIGHT/2-this.originY)*t},n}(l)}));
//# sourceMappingURL=canvas-select.min.js.map
